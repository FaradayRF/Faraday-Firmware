<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Faraday-Firmware: Faraday_HAL/flash.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Faraday-Firmware
   &#160;<span id="projectnumber">1</span>
   </div>
   <div id="projectbrief">Firmware for the Faraday digital amateur radio</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('flash_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">flash.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>CC430 flash memory functionallity.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;cc430f6137.h&quot;</code><br />
<code>#include &quot;<a class="el" href="flash_8h_source.html">flash.h</a>&quot;</code><br />
<code>#include &quot;string.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae023cc7fc5b612b26783249a3d5e8c0d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flash_8c.html#ae023cc7fc5b612b26783249a3d5e8c0d">flash_erase_segment</a> (long memory_loc)</td></tr>
<tr class="memdesc:ae023cc7fc5b612b26783249a3d5e8c0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase Flash memory segment.  <a href="#ae023cc7fc5b612b26783249a3d5e8c0d">More...</a><br /></td></tr>
<tr class="separator:ae023cc7fc5b612b26783249a3d5e8c0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9b90d1be04738d89bd983145dd0c960"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flash_8c.html#ac9b90d1be04738d89bd983145dd0c960">flash_write_char</a> (unsigned int address, unsigned char byte)</td></tr>
<tr class="memdesc:ac9b90d1be04738d89bd983145dd0c960"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write byte into a Flash memory location.  <a href="#ac9b90d1be04738d89bd983145dd0c960">More...</a><br /></td></tr>
<tr class="separator:ac9b90d1be04738d89bd983145dd0c960"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0d8f73e87899b5f10c76bae0c5bd703"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flash_8c.html#aa0d8f73e87899b5f10c76bae0c5bd703">flash_write_info_c_segment_char</a> (unsigned char offset, unsigned char byte)</td></tr>
<tr class="memdesc:aa0d8f73e87899b5f10c76bae0c5bd703"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a byte to the Info C segment memory location.  <a href="#aa0d8f73e87899b5f10c76bae0c5bd703">More...</a><br /></td></tr>
<tr class="separator:aa0d8f73e87899b5f10c76bae0c5bd703"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adef050ccfd883d91b51a01a38389028e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flash_8c.html#adef050ccfd883d91b51a01a38389028e">flash_write_info_c_segment_int</a> (unsigned char offset, unsigned int integer)</td></tr>
<tr class="memdesc:adef050ccfd883d91b51a01a38389028e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write an integer to the Info C segment memory location.  <a href="#adef050ccfd883d91b51a01a38389028e">More...</a><br /></td></tr>
<tr class="separator:adef050ccfd883d91b51a01a38389028e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeab23090190007f20e44e42e67bcf4c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flash_8c.html#aeeab23090190007f20e44e42e67bcf4c">flash_write_buffer</a> (unsigned int address, unsigned char *buff, unsigned int len)</td></tr>
<tr class="memdesc:aeeab23090190007f20e44e42e67bcf4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write multiple bytes into Flash memory.  <a href="#aeeab23090190007f20e44e42e67bcf4c">More...</a><br /></td></tr>
<tr class="separator:aeeab23090190007f20e44e42e67bcf4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>CC430 flash memory functionallity. </p>
<p>These functions provide access to the internal CC430 flash memory modification.</p>
<p>Memory Segments:</p><ul>
<li>Information segments are 128 bytes long</li>
<li>Main memory segments are 512 bytes long </li>
</ul>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ae023cc7fc5b612b26783249a3d5e8c0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae023cc7fc5b612b26783249a3d5e8c0d">&sect;&nbsp;</a></span>flash_erase_segment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_erase_segment </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>memory_loc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erase Flash memory segment. </p>
<p>Description: This function is intended to erase a memory locations segment in FLASH, specifically the info segments.</p>
<dl class="section warning"><dt>Warning</dt><dd>Interrupts must be disabled when writing to FLASH. If they are not and an interrupt occurs the interrupt will not return correctly and will lock the CC430 until it is power cycled.</dd>
<dd>
This function will erase the entire segment that the memory location is located within!</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">memory_loc</td><td>Memory address location to erase. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aeeab23090190007f20e44e42e67bcf4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeeab23090190007f20e44e42e67bcf4c">&sect;&nbsp;</a></span>flash_write_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_write_buffer </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write multiple bytes into Flash memory. </p>
<p>This function allows the writing of multiple bytes in a single command to be written to the Flash memory location provided.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The integer address of the flash memory location that the first byte of the multiple bytes will be written too </td></tr>
    <tr><td class="paramname">buff</td><td>A pointer to the bytearray location (first byte) to be written into the Flash memory location provided </td></tr>
    <tr><td class="paramname">len</td><td>The length of the byte array to be written to Flash memory in bytes </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac9b90d1be04738d89bd983145dd0c960"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9b90d1be04738d89bd983145dd0c960">&sect;&nbsp;</a></span>flash_write_char()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_write_char </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>byte</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write byte into a Flash memory location. </p>
<p>This function allows a single byte to be written into a memory location in the CC430 Flash.</p>
<dl class="section warning"><dt>Warning</dt><dd>The location being written too must be erased prior. </dd></dl>

</div>
</div>
<a id="aa0d8f73e87899b5f10c76bae0c5bd703"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0d8f73e87899b5f10c76bae0c5bd703">&sect;&nbsp;</a></span>flash_write_info_c_segment_char()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_write_info_c_segment_char </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>byte</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a byte to the Info C segment memory location. </p>
<p>This is a quick abstraction that allows quick access to flash memory segment C. The intended byte to be written along with an offset from the start of Flash memory segment C is to be provided.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">offset</td><td>Offset in bytes from the beginning of the Flash memory information segment C </td></tr>
    <tr><td class="paramname">byte</td><td>The byte to be written to the Flash memory location addressed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adef050ccfd883d91b51a01a38389028e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adef050ccfd883d91b51a01a38389028e">&sect;&nbsp;</a></span>flash_write_info_c_segment_int()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_write_info_c_segment_int </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>integer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write an integer to the Info C segment memory location. </p>
<p>This is a quick abstraction that allows quick access to flash memory segment C. The intended integer to be written along with an offset from the start of Flash memory segment C is to be provided.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">offset</td><td>Offset in bytes from the beginning of the Flash memory information segment C </td></tr>
    <tr><td class="paramname">integer</td><td>The integer to be written to the Flash memory location addressed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_b542889f9ea75b13211f998b94371744.html">Faraday_HAL</a></li><li class="navelem"><a class="el" href="flash_8c.html">flash.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.12 </li>
  </ul>
</div>
</body>
</html>
