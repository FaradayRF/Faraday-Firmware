<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Faraday-Firmware: Applications/Telemetry/Telem_RF.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Faraday-Firmware
   &#160;<span id="projectnumber">1</span>
   </div>
   <div id="projectbrief">Firmware for the Faraday digital amateur radio</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_telem___r_f_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Telem_RF.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>CC430 radio module telemetry application.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;cc430f6137.h&quot;</code><br />
<code>#include &quot;<a class="el" href="_telem___r_f_8h_source.html">Telem_RF.h</a>&quot;</code><br />
<code>#include &quot;string.h&quot;</code><br />
<code>#include &quot;telemetry.h&quot;</code><br />
<code>#include &quot;<a class="el" href="rf__transport_8h_source.html">../../RF_Network_Stack/rf_transport.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rf_8h_source.html">../../RF_Network_Stack/rf.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_f_i_f_o___s_r_a_m_8h_source.html">../../Ring_Buffers/FIFO_SRAM.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_u_a_r_t___l4_8h_source.html">../../UART/UART_L4.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_faraday___globals_8h_source.html">../../Faraday_Globals.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_device___config_8h_source.html">../Device_Config/Device_Config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="gps_8h_source.html">../../HAL/gps.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_misc___functions_8h_source.html">../../Faraday_HAL/Misc_Functions.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_r_e_v_a___faraday_8h_source.html">../../REVA_Faraday.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_g_p_i_o_8h_source.html">../../HAL/GPIO.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a77db7bad65a438953b1c41dabd6e6804"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_telem___r_f_8c.html#a77db7bad65a438953b1c41dabd6e6804">init_app_telem_rf_fifo</a> (void)</td></tr>
<tr class="memdesc:a77db7bad65a438953b1c41dabd6e6804"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize RF telemetry FIFO's.  <a href="#a77db7bad65a438953b1c41dabd6e6804">More...</a><br /></td></tr>
<tr class="separator:a77db7bad65a438953b1c41dabd6e6804"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ea3f9a0be878f29d324690aa273e6d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_telem___r_f_8c.html#a2ea3f9a0be878f29d324690aa273e6d2">telem_rf_send_rf_packet</a> (unsigned char *payload_buffer, unsigned char payload_len, unsigned char RF_L4_service_number, char RF_L2_source_callsign[6], unsigned char RF_L2_source_callsign_len, unsigned char RF_L2_source_indetifier, char RF_L2_destination_callsign[6], unsigned char RF_L2_destination_callsign_len, unsigned char RF_L2_destination_identifier, unsigned char RF_L2_packet_type, unsigned char RF_L2_packet_config)</td></tr>
<tr class="memdesc:a2ea3f9a0be878f29d324690aa273e6d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">RF telemetry function to send an RF packet.  <a href="#a2ea3f9a0be878f29d324690aa273e6d2">More...</a><br /></td></tr>
<tr class="separator:a2ea3f9a0be878f29d324690aa273e6d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab5bfd8a5dc37e959c7b50cbdc31c8f5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_telem___r_f_8c.html#aab5bfd8a5dc37e959c7b50cbdc31c8f5">telem_rf</a> (void)</td></tr>
<tr class="memdesc:aab5bfd8a5dc37e959c7b50cbdc31c8f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new telemetry packet and transmit over RF.  <a href="#aab5bfd8a5dc37e959c7b50cbdc31c8f5">More...</a><br /></td></tr>
<tr class="separator:aab5bfd8a5dc37e959c7b50cbdc31c8f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc8c606f9c47e5705d29fe58ae7aa8d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_telem___r_f_8c.html#abc8c606f9c47e5705d29fe58ae7aa8d7">app_telem_rf_rx_put</a> (unsigned char *packet)</td></tr>
<tr class="memdesc:abc8c606f9c47e5705d29fe58ae7aa8d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function pointer "PUT()" routine for RF telemetry.  <a href="#abc8c606f9c47e5705d29fe58ae7aa8d7">More...</a><br /></td></tr>
<tr class="separator:abc8c606f9c47e5705d29fe58ae7aa8d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2302bc2266cf3eceaa3e1a38ae26f13"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_telem___r_f_8c.html#ac2302bc2266cf3eceaa3e1a38ae26f13">app_telem_rf_housekeeping</a> (void)</td></tr>
<tr class="memdesc:ac2302bc2266cf3eceaa3e1a38ae26f13"><td class="mdescLeft">&#160;</td><td class="mdescRight">RF telemetry housekeeping routine.  <a href="#ac2302bc2266cf3eceaa3e1a38ae26f13">More...</a><br /></td></tr>
<tr class="separator:ac2302bc2266cf3eceaa3e1a38ae26f13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad88e78ca56fe4e8504033419583b0ece"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_telem___r_f_8c.html#ad88e78ca56fe4e8504033419583b0ece">app_telem_rf_pkt_1_state_machine</a> (unsigned char *packet)</td></tr>
<tr class="memdesc:ad88e78ca56fe4e8504033419583b0ece"><td class="mdescLeft">&#160;</td><td class="mdescRight">RF telemetry received packet state machine.  <a href="#ad88e78ca56fe4e8504033419583b0ece">More...</a><br /></td></tr>
<tr class="separator:ad88e78ca56fe4e8504033419583b0ece"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c4449f84da6fc2dca7b2682f77bea42"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_telem___r_f_8c.html#a5c4449f84da6fc2dca7b2682f77bea42">app_telem_rf_housekeeping_interval</a> (void)</td></tr>
<tr class="memdesc:a5c4449f84da6fc2dca7b2682f77bea42"><td class="mdescLeft">&#160;</td><td class="mdescRight">RF telemetry beacon interval housekeeping routine.  <a href="#a5c4449f84da6fc2dca7b2682f77bea42">More...</a><br /></td></tr>
<tr class="separator:a5c4449f84da6fc2dca7b2682f77bea42"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">SRAM FIFO State Machine Structure Variables</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Structures that contain the needed members that operate the SRAM FIFO state machine operations</p>
<p>Structures that contain the needed members that operate the SRAM FIFO state machine operations </p>
</div></td></tr>
<tr class="memitem:a52276f8673d322d87984b4350dd847fb"><td class="memItemLeft" align="right" valign="top">volatile <a class="el" href="_f_i_f_o___s_r_a_m_8h.html#a2b243c99b78f32a05aa87dc93f773026">fifo_sram_state_machine</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_telem___r_f_8c.html#a52276f8673d322d87984b4350dd847fb">telem_rf_tx_fifo_state_machine</a></td></tr>
<tr class="separator:a52276f8673d322d87984b4350dd847fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70ea48b07b56e62b4ac3391ae7522b0f"><td class="memItemLeft" align="right" valign="top">volatile <a class="el" href="_f_i_f_o___s_r_a_m_8h.html#a2b243c99b78f32a05aa87dc93f773026">fifo_sram_state_machine</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_telem___r_f_8c.html#a70ea48b07b56e62b4ac3391ae7522b0f">telem_rf_tx_rfconfig_fifo_state_machine</a></td></tr>
<tr class="separator:a70ea48b07b56e62b4ac3391ae7522b0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ceb70266b6d8e59e6e1028534a62f17"><td class="memItemLeft" align="right" valign="top">volatile <a class="el" href="_f_i_f_o___s_r_a_m_8h.html#a2b243c99b78f32a05aa87dc93f773026">fifo_sram_state_machine</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_telem___r_f_8c.html#a7ceb70266b6d8e59e6e1028534a62f17">telem_rf_rx_fifo_state_machine</a></td></tr>
<tr class="separator:a7ceb70266b6d8e59e6e1028534a62f17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a716d096adb91958dc286c9e13c376fb2"><td class="memItemLeft" align="right" valign="top">volatile <a class="el" href="_f_i_f_o___s_r_a_m_8h.html#a2b243c99b78f32a05aa87dc93f773026">fifo_sram_state_machine</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_telem___r_f_8c.html#a716d096adb91958dc286c9e13c376fb2">app_telem_rf_uart_state_machine</a></td></tr>
<tr class="separator:a716d096adb91958dc286c9e13c376fb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Globals Misc.</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Variables that are global in this source file</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000007">Todo:</a></b></dt><dd>These should all be moved and optimized out of global if possible!</dd></dl>
</div></td></tr>
<tr class="memitem:af3bdde943f2fc1420f8ae25b361946d1"><td class="memItemLeft" align="right" valign="top">volatile unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_telem___r_f_8c.html#af3bdde943f2fc1420f8ae25b361946d1">app_packet_buf_rx2</a> [<a class="el" href="_telem___r_f_8h.html#a5308c15d60286e389892618844c9a9a8">TELEM_RF_PACKET_PAYLOAD_LEN</a>]</td></tr>
<tr class="separator:af3bdde943f2fc1420f8ae25b361946d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d70d670fd57ffe0ed648933b759266e"><td class="memItemLeft" align="right" valign="top">volatile unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_telem___r_f_8c.html#a2d70d670fd57ffe0ed648933b759266e">rf_telemetry_interval_counter_int</a> = 0</td></tr>
<tr class="separator:a2d70d670fd57ffe0ed648933b759266e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">RF Telemetry Packet Fragmentation Variables</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Variables for the fragmentation and resassembly of telemetry packets over RF</p>
<p>These variables(s) are used to fragment and reassemble the fragmented telemetry packets as transfered over the RF telemetry packet protocol. </p>
</div></td></tr>
<tr class="memitem:a8cfda9922f063f3dbbae230117e97c68"><td class="memItemLeft" align="right" valign="top">volatile unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_telem___r_f_8c.html#a8cfda9922f063f3dbbae230117e97c68">telem_rf_pkt_1_state_machine_data</a> [<a class="el" href="_telem___r_f_8h.html#a8fc07c8e1970fb0098a5c6633b3175e5">TELEM_RF_PACKET_1_LEN</a>]</td></tr>
<tr class="separator:a8cfda9922f063f3dbbae230117e97c68"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>CC430 radio module telemetry application. </p>
<p>The CC430 radio module telemetry appliation provides faraday telemetry functionality over the CC430 radio module. The main reason for splitting UART and RF telemetry is due to the needs to fragment telemetry going over RF due to smalle MTU size. The telemetry packets are identical between local and RF.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000006">Todo:</a></b></dt><dd>Increase MTU size for RF functionality</dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ac2302bc2266cf3eceaa3e1a38ae26f13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2302bc2266cf3eceaa3e1a38ae26f13">&sect;&nbsp;</a></span>app_telem_rf_housekeeping()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void app_telem_rf_housekeeping </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>RF telemetry housekeeping routine. </p>
<p>The RF telemetry housekeeping routine should be executed on a reoccuring basis and provides the FIFO checking and other operations needed to operate the applications functionality. This function will primarally check FIFO buffers for new data to retrieve and if so perform the intended operations on the retrieved FIFO data. </p>

</div>
</div>
<a id="a5c4449f84da6fc2dca7b2682f77bea42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c4449f84da6fc2dca7b2682f77bea42">&sect;&nbsp;</a></span>app_telem_rf_housekeeping_interval()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void app_telem_rf_housekeeping_interval </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>RF telemetry beacon interval housekeeping routine. </p>
<p>The RF telemetry housekeeping routine that operates the 1Hz beacon interval counter functionality. This routine should be executed once every second! Incrementing counters and invoking RF telemetry packet creation and transmission after counting the full interval in seconds contained in the device configuration respectively is performed in this function.</p>
<dl class="section warning"><dt>Warning</dt><dd>This function must be execute once per second for proper operation (timing)! </dd></dl>

</div>
</div>
<a id="ad88e78ca56fe4e8504033419583b0ece"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad88e78ca56fe4e8504033419583b0ece">&sect;&nbsp;</a></span>app_telem_rf_pkt_1_state_machine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void app_telem_rf_pkt_1_state_machine </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>RF telemetry received packet state machine. </p>
<p>This function accepts a received RF telemetry packet and will parse and re-assemble the fragmented packet into a full telemetry packet from a stream of fragmented telemetry packets.The state machine is very basic and its primary function is to parse the RF telemetry packet type and sequence numbers into start, sequence, and stop fragmentation packets that allow proper reassembly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td>A pointer to the received RF telemetry packet </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abc8c606f9c47e5705d29fe58ae7aa8d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc8c606f9c47e5705d29fe58ae7aa8d7">&sect;&nbsp;</a></span>app_telem_rf_rx_put()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void app_telem_rf_rx_put </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function pointer "PUT()" routine for RF telemetry. </p>
<p>This is the standard FIFO put() command required by the function pointer architecture of the FIFO inteface to devices to the RF network stack. This funciton is called by those service routines when needing to interact with the application.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td>A pointer to the data to be placed into the RF telemetry application FIFO </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a77db7bad65a438953b1c41dabd6e6804"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77db7bad65a438953b1c41dabd6e6804">&sect;&nbsp;</a></span>init_app_telem_rf_fifo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_app_telem_rf_fifo </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize RF telemetry FIFO's. </p>
<p>This function is used to initialize the RF telemetry application FIFO buffers. </p>

</div>
</div>
<a id="aab5bfd8a5dc37e959c7b50cbdc31c8f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab5bfd8a5dc37e959c7b50cbdc31c8f5">&sect;&nbsp;</a></span>telem_rf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void telem_rf </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new telemetry packet and transmit over RF. </p>
<p>This function initiates the creation of a new telemetry application packet and then fragments that packet into smaller RF telemetry packets in order to be transmitted through the RF network stack's smaller MTU. </p>

</div>
</div>
<a id="a2ea3f9a0be878f29d324690aa273e6d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ea3f9a0be878f29d324690aa273e6d2">&sect;&nbsp;</a></span>telem_rf_send_rf_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void telem_rf_send_rf_packet </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>payload_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>payload_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>RF_L4_service_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>RF_L2_source_callsign</em>[6], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>RF_L2_source_callsign_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>RF_L2_source_indetifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>RF_L2_destination_callsign</em>[6], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>RF_L2_destination_callsign_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>RF_L2_destination_identifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>RF_L2_packet_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>RF_L2_packet_config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>RF telemetry function to send an RF packet. </p>
<p>This is a single function that allows an RF network stack layer 4 packet to be transmitted in a single function call.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">payload_buffer</td><td>Pointer to the Layer 4 (transport) payload to be transmitted </td></tr>
    <tr><td class="paramname">payload_len</td><td>Layer 4 (transport) payload length in bytes </td></tr>
    <tr><td class="paramname">RF_L4_service_number</td><td>Layer 4 (transport) service port number that will be assigned to the layer 4 packet </td></tr>
    <tr><td class="paramname">RF_L2_source_callsign</td><td>Layer 2 (datalink) source callsign (local device - for identification purpose) </td></tr>
    <tr><td class="paramname">RF_L2_source_callsign_len</td><td>Layer 2 (datalink) source callsign length in bytes (local device - for identification purpose) </td></tr>
    <tr><td class="paramname">RF_L2_source_indetifier</td><td>Layer 2 (datalink) source device ID number (local device - for identification purpose) </td></tr>
    <tr><td class="paramname">RF_L2_destination_callsign</td><td>Layer 2 (datalink) destination callsign to address MAC layer packet to </td></tr>
    <tr><td class="paramname">RF_L2_destination_callsign_len</td><td>Layer 2 (datalink) destination callsign length in bytes </td></tr>
    <tr><td class="paramname">RF_L2_destination_identifier</td><td>Layer 2 (datalink) destination device ID to address MAC layer packet to </td></tr>
    <tr><td class="paramname">RF_L2_packet_type</td><td>Layer 2 (datalink) packet type identifier (for handling and parsing multiple packet types - see packet documentation) </td></tr>
    <tr><td class="paramname">RF_L2_packet_config</td><td>Layer 2 (datalink) packet configuration bitmask</td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000009">Todo:</a></b></dt><dd>This should be consolidated with <a class="el" href="rf__transport_8h.html" title="The layer 4 RF experimental protocol. ">rf_transport.h</a>'s <a class="el" href="rf__transport_8c.html#a35176a5270dfcea1b086af5845de60ad" title="High level function used to transmit a full RF packet. ">rf_service_tx()</a> function!</dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="af3bdde943f2fc1420f8ae25b361946d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3bdde943f2fc1420f8ae25b361946d1">&sect;&nbsp;</a></span>app_packet_buf_rx2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile unsigned char app_packet_buf_rx2[<a class="el" href="_telem___r_f_8h.html#a5308c15d60286e389892618844c9a9a8">TELEM_RF_PACKET_PAYLOAD_LEN</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Telemetry application receive buffer (this should be function local!) </p>

</div>
</div>
<a id="a716d096adb91958dc286c9e13c376fb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a716d096adb91958dc286c9e13c376fb2">&sect;&nbsp;</a></span>app_telem_rf_uart_state_machine</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="_f_i_f_o___s_r_a_m_8h.html#a2b243c99b78f32a05aa87dc93f773026">fifo_sram_state_machine</a> app_telem_rf_uart_state_machine</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>RF telemetrr RF to UART receive bring SRAM FIFO state machine structure </p>

</div>
</div>
<a id="a2d70d670fd57ffe0ed648933b759266e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d70d670fd57ffe0ed648933b759266e">&sect;&nbsp;</a></span>rf_telemetry_interval_counter_int</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile unsigned int rf_telemetry_interval_counter_int = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>RF beacon telemetry transmission interval counter variable </p>

</div>
</div>
<a id="a8cfda9922f063f3dbbae230117e97c68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cfda9922f063f3dbbae230117e97c68">&sect;&nbsp;</a></span>telem_rf_pkt_1_state_machine_data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile unsigned char telem_rf_pkt_1_state_machine_data[<a class="el" href="_telem___r_f_8h.html#a8fc07c8e1970fb0098a5c6633b3175e5">TELEM_RF_PACKET_1_LEN</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>RF Telemetry data bytearray for use by the rf telemetry state machine </p>

</div>
</div>
<a id="a7ceb70266b6d8e59e6e1028534a62f17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ceb70266b6d8e59e6e1028534a62f17">&sect;&nbsp;</a></span>telem_rf_rx_fifo_state_machine</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="_f_i_f_o___s_r_a_m_8h.html#a2b243c99b78f32a05aa87dc93f773026">fifo_sram_state_machine</a> telem_rf_rx_fifo_state_machine</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>RF telemetry receive SRAM fifo state machine structure </p>

</div>
</div>
<a id="a52276f8673d322d87984b4350dd847fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52276f8673d322d87984b4350dd847fb">&sect;&nbsp;</a></span>telem_rf_tx_fifo_state_machine</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="_f_i_f_o___s_r_a_m_8h.html#a2b243c99b78f32a05aa87dc93f773026">fifo_sram_state_machine</a> telem_rf_tx_fifo_state_machine</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>RF telemetry transmit SRAM fifo state machine structure </p>

</div>
</div>
<a id="a70ea48b07b56e62b4ac3391ae7522b0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70ea48b07b56e62b4ac3391ae7522b0f">&sect;&nbsp;</a></span>telem_rf_tx_rfconfig_fifo_state_machine</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="_f_i_f_o___s_r_a_m_8h.html#a2b243c99b78f32a05aa87dc93f773026">fifo_sram_state_machine</a> telem_rf_tx_rfconfig_fifo_state_machine</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>RF telemetry transmit RF network stack packet configuration fifo state machine structure </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_8c1195e4829fa17630c4278c41da729a.html">Applications</a></li><li class="navelem"><a class="el" href="dir_fe8047c544a6c9c3c7234d8ca0cc2f25.html">Telemetry</a></li><li class="navelem"><a class="el" href="_telem___r_f_8c.html">Telem_RF.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.12 </li>
  </ul>
</div>
</body>
</html>
